-- H2 2.3.232; 
SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS "" SALT '' HASH '' ADMIN;            
CREATE SCHEMA IF NOT EXISTS "MYMODEL" AUTHORIZATION "";        
CREATE SEQUENCE "PUBLIC"."BASEC_SEQ" START WITH 1 RESTART WITH 101 INCREMENT BY 50;            
CREATE SEQUENCE "PUBLIC"."REFA_SEQ" START WITH 1 RESTART WITH 51 INCREMENT BY 50;              
CREATE SEQUENCE "PUBLIC"."SOMECONTENT_SEQ" START WITH 1 RESTART WITH 51 INCREMENT BY 50;       
CREATE MEMORY TABLE "MYMODEL"."BASEC"(
    "ID" BIGINT NOT NULL,
    "SOMECONTENT_ID" BIGINT,
    "BASEC_SUBTYPE" CHARACTER VARYING(64) NOT NULL,
    "BNAME" CHARACTER VARYING(255) NOT NULL,
    "DVAL" CHARACTER VARYING(255),
    "EVALUE" CHARACTER VARYING(255)
);       
ALTER TABLE "MYMODEL"."BASEC" ADD CONSTRAINT "MYMODEL"."CONSTRAINT_3" PRIMARY KEY("ID");       
-- 2 +/- SELECT COUNT(*) FROM MYMODEL.BASEC;   
INSERT INTO "MYMODEL"."BASEC" VALUES
(1, 1, 'MyModel:types.Dcont', 'dval', 'N1', NULL),
(2, 1, 'MyModel:types.Econt', 'eval', NULL, 'cube');   
CREATE MEMORY TABLE "MYMODEL"."REFA"(
    "ID" BIGINT NOT NULL,
    "VAL" CHARACTER VARYING(255) NOT NULL
);   
ALTER TABLE "MYMODEL"."REFA" ADD CONSTRAINT "MYMODEL"."CONSTRAINT_2" PRIMARY KEY("ID");        
-- 1 +/- SELECT COUNT(*) FROM MYMODEL.REFA;    
INSERT INTO "MYMODEL"."REFA" VALUES
(1, 'a value');            
CREATE MEMORY TABLE "MYMODEL"."REFB"(
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "VAL" CHARACTER VARYING(255) NOT NULL
); 
ALTER TABLE "MYMODEL"."REFB" ADD CONSTRAINT "MYMODEL"."CONSTRAINT_26" PRIMARY KEY("NAME");     
-- 1 +/- SELECT COUNT(*) FROM MYMODEL.REFB;    
INSERT INTO "MYMODEL"."REFB" VALUES
('naturalkey', 'another val');             
CREATE MEMORY TABLE "MYMODEL"."SOMECONTENT"(
    "ID" BIGINT NOT NULL,
    "REF1" BIGINT NOT NULL,
    "REF2" CHARACTER VARYING(255) NOT NULL,
    "ZVAL" CHARACTER VARYING(255) NOT NULL
);   
ALTER TABLE "MYMODEL"."SOMECONTENT" ADD CONSTRAINT "MYMODEL"."CONSTRAINT_A" PRIMARY KEY("ID"); 
-- 1 +/- SELECT COUNT(*) FROM MYMODEL.SOMECONTENT;             
INSERT INTO "MYMODEL"."SOMECONTENT" VALUES
(1, 1, 'naturalkey', 'some|z|values');              
ALTER TABLE "MYMODEL"."SOMECONTENT" ADD CONSTRAINT "MYMODEL"."FKMFK59TUSPR1GB8UWYHTNQY3RE" FOREIGN KEY("REF1") REFERENCES "MYMODEL"."REFA"("ID") NOCHECK;      
ALTER TABLE "MYMODEL"."SOMECONTENT" ADD CONSTRAINT "MYMODEL"."FKDCYCMMPW2HWT6OOYU839TR522" FOREIGN KEY("REF2") REFERENCES "MYMODEL"."REFB"("NAME") NOCHECK;    
ALTER TABLE "MYMODEL"."BASEC" ADD CONSTRAINT "MYMODEL"."FKIMVTFGQD2E8F8TS0QDO5OD8HE" FOREIGN KEY("SOMECONTENT_ID") REFERENCES "MYMODEL"."SOMECONTENT"("ID") NOCHECK;           
